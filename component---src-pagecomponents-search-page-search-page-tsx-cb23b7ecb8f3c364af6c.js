(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{Gpdm:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r("dI71"),a=r("q1tI"),s=r.n(a),i=(r("VLio"),function(t){function e(e){return t.call(this,e)||this}return Object(n.a)(e,t),e.prototype.render=function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"category-bar"},this.props.title))},e}(s.a.Component))},TYzl:function(t,e,r){"use strict";r.r(e),r.d(e,"Search",(function(){return E})),r.d(e,"pageQuery",(function(){return w}));var n=r("dI71"),a=r("q1tI"),s=r.n(a),i=r("Aq8R"),o=r("+rwk"),c=r("xFIP"),u=r("9uds"),p=r("o0o1"),h=r.n(p),l=(r("ls82"),r("HaE+")),d=r("OKhy"),m=r("1wtQ"),f=r("cCPr"),b=r("Gpdm"),g=r("K9RH"),v=r("eG77"),y=function(t){function e(e){var r;return(r=t.call(this,e)||this).searchChangedHandler=function(){var t=Object(l.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.updateSearch(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r.state={posts:[],cnt:0,finished:!1,query:""},r}Object(n.a)(e,t);var r=e.prototype;return r.updateSearch=function(){var t=Object(l.a)(h.a.mark((function t(e){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.setState({query:e,finished:!1}),null==e||""==e.trim()){t.next=7;break}return t.next=5,Object(d.n)(m.a.elasticSearchUri+"/docs/_search?pretty=true",{_source:["slug","abstract","title","subtitle","updatedate","date","author","image","categories","commentCnt"],query:{bool:{should:[{match:{text:{query:e}}},{match:{text:{query:e,operator:"and",fuzziness:"AUTO",boost:2}}},{match:{abstract:{query:e,operator:"and",boost:2}}},{match_phrase:{text_raw:{query:e,boost:10}}},{match_phrase:{abstract_raw:{query:e,boost:15}}}]}},size:m.a.elasticSearchResultLimit},{headers:{"Content-Type":"application/json",Authorization:"Basic "+m.a.elsaticBasicAuth}});case 5:(r=t.sent)&&r.hits&&r.hits.hits&&this.setState({posts:r.hits.hits.map((function(t){var e=t._source;return{frontmatter:{title:e.title,date:e.date,updatedate:e.updatedate,image:e.image,subtitle:e.subtitle,slug:e.slug,author:e.author,categories:e.categories},fields:{abstract:e.abstract,commentCnt:e.commentCnt}}})),cnt:r.hits.hits.length,finished:!0});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),v.a.trackError("Error fetching search results",t.t0);case 12:return t.prev=12,this.setState({finished:!0}),t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));return function(e){return t.apply(this,arguments)}}(),r.componentDidMount=function(){var t=Object(l.a)(h.a.mark((function t(){var e,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g.a.registerHandler(this.searchChangedHandler),void 0!==typeof window&&(e=Object(d.g)(),r=decodeURIComponent(e.query),this.updateSearch(r));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.componentWillUnmount=function(){g.a.unregisterHandler(this.searchChangedHandler)},r.render=function(){var t=Object(d.l)(this.props.data.categories.edges.map((function(t){return t.node}))),e=this.props.data.authors.edges.map((function(t){return t.node}));return a.createElement("div",{className:"search-results-container"},this.state.query?a.createElement(a.Fragment,null,1==this.state.finished?a.createElement(a.Fragment,null,a.createElement(b.a,{title:this.state.cnt+" Suchergebnisse f√ºr '"+this.state.query+"'"}),a.createElement(f.a,{posts:this.state.posts,categories:t,authors:e})):a.createElement(b.a,{title:"Lade Ergebnisse..."})):a.createElement(b.a,{title:"Bitte geben Sie einen Suchbegriff ein um Ergebnisse zu sehen."}))},e}(a.Component),E=function(t){function e(e){return t.call(this,e)||this}return Object(n.a)(e,t),e.prototype.render=function(){return s.a.createElement(i.b,{header:{url:"search",description:"Sucherergebnisse",type:"object",title:"Suchergebnisse",tags:["search"],noIndex:!0},sidebar:s.a.createElement(o.a,{isFixed:!0},s.a.createElement(c.a,null),s.a.createElement(u.a,null))},s.a.createElement(y,{data:this.props.data}))},e}(s.a.Component),w=(e.default=function(t){var e=t.pageContext,r=t.data,n=t.location;return s.a.createElement(E,{data:r,location:n,context:e})},"4103831127")},VLio:function(t,e,r){},cCPr:function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var n=r("dI71"),a=r("q1tI"),s=r.n(a),i=r("OKhy"),o=r("JuBv"),c=(r("j3n2"),r("Kxvw")),u=r("VOVi"),p=function(t){function e(e){return t.call(this,e)||this}return Object(n.a)(e,t),e.prototype.render=function(){var t=this.props.post;return s.a.createElement("div",{className:"post-preview"},s.a.createElement("div",null,s.a.createElement(c.a,{frontmatter:t.frontmatter,commentCnt:t.fields.commentCnt,author:this.props.author,categories:this.props.categories})),s.a.createElement("div",{className:"post-content"},s.a.createElement(o.a,{to:"/"+t.frontmatter.slug},s.a.createElement(u.a,{content:this.props.post.fields.abstract?this.props.post.fields.abstract:this.props.post.excerpt}," "))))},e}(s.a.Component),h=(r("ewL5"),function(t){function e(){return t.apply(this,arguments)||this}return Object(n.a)(e,t),e.prototype.render=function(){return s.a.createElement("div",{className:"empty-content-container"},"Hier gibt es noch keine Inhalte")},e}(s.a.Component)),l=function(t){function e(){return t.apply(this,arguments)||this}return Object(n.a)(e,t),e.prototype.render=function(){var t=this;return s.a.createElement("div",{className:"post-list"},this.props.posts.map((function(e,r){return s.a.createElement("div",{className:"post-list-element",key:r},s.a.createElement(p,{post:e,categories:e.frontmatter.categories.map((function(e){return Object(i.e)(e,t.props.categories)})),author:Object(i.d)(e.frontmatter.author,t.props.authors)}))})),0==this.props.posts.length?s.a.createElement(h,null):"")},e}(s.a.Component)}}]);
//# sourceMappingURL=component---src-pagecomponents-search-page-search-page-tsx-cb23b7ecb8f3c364af6c.js.map