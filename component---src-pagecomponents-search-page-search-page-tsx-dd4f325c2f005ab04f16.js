(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{TYzl:function(t,e,r){"use strict";r.r(e);var n=r("q1tI"),a=r.n(n),o=r("Aq8R"),s=r("+rwk"),c=r("xFIP"),i=r("9uds"),u=r("xgjF"),p=(r("VRzm"),r("Btvt"),r("o0o1")),h=r.n(p),l=(r("ls82"),r("OKhy")),d=r("1wtQ"),m=r("cCPr"),f=r("Gpdm"),v=r("K9RH"),y=r("eG77");function g(t,e,r,n,a,o,s){try{var c=t[o](s),i=c.value}catch(u){return void r(u)}c.done?e(i):Promise.resolve(i).then(n,a)}function b(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function s(t){g(o,n,a,s,c,"next",t)}function c(t){g(o,n,a,s,c,"throw",t)}s(void 0)}))}}var E=function(t){var e,r;function a(e){var r;return(r=t.call(this,e)||this).searchChangedHandler=function(){var t=b(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.updateSearch(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r.state={posts:[],cnt:0,finished:!1,query:""},v.a.registerHandler(r.searchChangedHandler),r}r=t,(e=a).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=a.prototype;return o.updateSearch=function(){var t=b(h.a.mark((function t(e){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.setState({query:e,finished:!1}),null==e||""==e.trim()){t.next=7;break}return t.next=5,Object(l.h)(d.a.elasticSearchUri+"/docs/_search?pretty=true",{_source:["slug","abstract","title","subtitle","updatedate","date","author","image","categories","commentCnt"],query:{multi_match:{query:e,fields:["tags","title","subtitle","abstract","author","text"]}},size:d.a.elasticSearchResultLimit},{headers:{"Content-Type":"application/json",Authorization:"Basic "+d.a.elsaticBasicAuth}});case 5:(r=t.sent)&&r.hits&&r.hits.hits&&this.setState({posts:r.hits.hits.map((function(t){var e=t._source;return{frontmatter:{title:e.title,date:e.date,updatedate:e.updatedate,image:e.image,subtitle:e.subtitle,slug:e.slug,author:e.author,categories:e.categories},fields:{abstract:e.abstract,commentCnt:e.commentCnt}}})),cnt:r.hits.hits.length,finished:!0});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),y.a.trackError("Error fetching search results",t.t0);case 12:return t.prev=12,this.setState({finished:!0}),t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));return function(e){return t.apply(this,arguments)}}(),o.componentDidMount=function(){var t=b(h.a.mark((function t(){var e,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0!==typeof window&&(e=Object(l.d)(),r=decodeURIComponent(e.query),this.updateSearch(r));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.componentWillUnmount=function(){v.a.unregisterHandler(this.searchChangedHandler)},o.render=function(){var t=Object(l.g)(this.props.data.categories.edges.map((function(t){return t.node}))),e=this.props.data.authors.edges.map((function(t){return t.node}));return n.createElement("div",{className:"search-results-container"},1==this.state.finished?n.createElement(n.Fragment,null,n.createElement(f.a,{title:this.state.cnt+" Suchergebnisse f√ºr '"+this.state.query+"'"}),n.createElement(m.a,{posts:this.state.posts,categories:t,authors:e})):n.createElement(f.a,{title:"Lade Ergebnisse..."}))},a}(n.Component);r.d(e,"Search",(function(){return _})),r.d(e,"pageQuery",(function(){return w}));var _=function(t){var e,r;function n(e){return t.call(this,e)||this}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.prototype.render=function(){return a.a.createElement(o.b,{header:{url:"search",description:"Sucherergebnisse",type:"object",title:"Suchergebnisse",tags:["search"]},sidebar:a.a.createElement(s.a,{isFixed:!0},a.a.createElement(c.a,null),a.a.createElement(i.a,null),a.a.createElement(u.a,null))},a.a.createElement(E,{data:this.props.data}))},n}(a.a.Component),w=(e.default=function(t){var e=t.pageContext,r=t.data,n=t.location;return a.a.createElement(_,{data:r,location:n,context:e})},"2720909686")},cCPr:function(t,e,r){"use strict";var n=r("q1tI"),a=r.n(n),o=r("OKhy"),s=r("Wbzz"),c=(r("j3n2"),r("Kxvw")),i=r("VOVi");var u=function(t){var e,r;function n(e){return t.call(this,e)||this}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.prototype.render=function(){var t=this.props.post;return a.a.createElement("div",{className:"post-preview"},a.a.createElement("div",null,a.a.createElement(c.a,{frontmatter:t.frontmatter,commentCnt:t.fields.commentCnt,author:this.props.author,categories:this.props.categories})),a.a.createElement("div",{className:"post-content"},a.a.createElement(s.Link,{to:"/"+t.frontmatter.slug},a.a.createElement(i.a,{content:this.props.post.fields.abstract?this.props.post.fields.abstract:this.props.post.excerpt}," "))))},n}(a.a.Component);r("ewL5");var p=function(t){var e,r;function n(){return t.apply(this,arguments)||this}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.prototype.render=function(){return a.a.createElement("div",{className:"empty-content-container"},"Hier gibt es noch keine Inhalte")},n}(a.a.Component);r.d(e,"a",(function(){return h}));var h=function(t){var e,r;function n(){return t.apply(this,arguments)||this}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.prototype.render=function(){var t=this;return a.a.createElement("div",null,this.props.posts.map((function(e,r){return a.a.createElement("div",{key:r},a.a.createElement(u,{post:e,categories:e.frontmatter.categories.map((function(e){return Object(o.c)(e,t.props.categories)})),author:Object(o.b)(e.frontmatter.author,t.props.authors)}))})),0==this.props.posts.length?a.a.createElement(p,null):"")},n}(a.a.Component)}}]);
//# sourceMappingURL=component---src-pagecomponents-search-page-search-page-tsx-dd4f325c2f005ab04f16.js.map