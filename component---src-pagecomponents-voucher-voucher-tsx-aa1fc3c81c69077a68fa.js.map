{"version":3,"sources":["webpack:///./src/components/SideBar/SideBar.tsx","webpack:///./src/pagecomponents/Voucher/Voucher.tsx"],"names":["SideBar","props","onScroll","ev","offset","window","scrollY","container","document","getElementById","setState","fixed","offsetTop","state","componentDidMount","this","isFixed","addEventListener","componentWillUnmount","removeEventListener","render","className","children","React","Component","VoucherPage","onSubscribe","a","SubscriptionService","openForm","handleChange","code","target","value","onRedeem","preventDefault","trim","error","today","Date","voucher","toUpperCase","link","getFullYear","getMonth","slice","open","hasQueryVoucher","params","location","search","substr","split","s","length","gutscheincode","coupon","val","header","description","title","config","site","type","url","sidebar","style","textAlign","onClick","onSubmit","id","onChange","name","marginTop","to","Page","data","pageContext"],"mappings":"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","file":"component---src-pagecomponents-voucher-voucher-tsx-aa1fc3c81c69077a68fa.js","sourcesContent":["import React from \"react\";\r\n\r\nexport class SideBar extends React.Component<{isFixed: boolean, children: any}, {fixed: boolean}>\r\n{\r\n  constructor(props)\r\n  {\r\n    super(props);\r\n    this.state = {\r\n      fixed: false\r\n    }\r\n  }\r\n\r\n  onScroll = (ev: Event) => {\r\n    let offset = window.scrollY;\r\n    let container = document.getElementById(\"content-container\");\r\n    this.setState({\r\n      fixed: offset > container.offsetTop\r\n    });\r\n  }\r\n\r\n  componentDidMount()\r\n  {\r\n    if(this.props.isFixed == true)\r\n      window.addEventListener(\"scroll\", this.onScroll);\r\n  }\r\n\r\n  componentWillUnmount()\r\n  {\r\n    if(this.props.isFixed == true)\r\n      window.removeEventListener(\"scroll\", this.onScroll);\r\n  }\r\n\r\n  render()\r\n  {\r\n    return (\r\n      <div className={this.state.fixed == true ? \"sidebar-fixed\" : \"sidebar-not-fixed\"}>\r\n        {this.props.children}\r\n      </div>\r\n    )\r\n  }\r\n}","import React from \"react\";\r\nimport { ContentLayoutWithSidebar } from \"../../components/Layout/ContentLayout\";\r\nimport { SideBar } from \"../../components/SideBar/SideBar\";\r\nimport { SideBarQuickstart } from \"../../components/SideBar/SideBarQuickstart\";\r\nimport { SideBarHelp } from \"../../components/SideBar/SideBarHelp\";\r\nimport SideBarCategories from \"../../components/SideBar/SideBarCategories\";\r\nimport { IGatsbyLocation } from '../../interfaces';\r\nimport { SubscriptionService } from '../../services/SubscriptionService';\r\nimport { IHeaderProps } from \"../../components/Layout/Header\";\r\nimport { Link } from \"../../components/Misc\";\r\nimport { config } from '../../config';\r\n\r\nexport class VoucherPage extends React.Component<{location: IGatsbyLocation}, {code: string, error: string, hasQueryVoucher: boolean}>\r\n{\r\n  constructor(props)\r\n  {\r\n    super(props);\r\n    this.state = {\r\n      code: null,\r\n      error: null,\r\n      hasQueryVoucher: false\r\n    };\r\n  }\r\n\r\n  onSubscribe = async () => {\r\n    await SubscriptionService.openForm();\r\n  }\r\n\r\n  handleChange = (ev) => {\r\n    this.setState({\r\n      code: ev.target.value,\r\n    })\r\n  }\r\n\r\n  onRedeem = (ev) => {\r\n    ev.preventDefault();\r\n    if(this.state.code == null || this.state.code.trim() == \"\")\r\n    {\r\n      this.setState({\r\n        error: \"Bitte geben sie einen validen Gutscheincode ein.\"\r\n      })\r\n    }\r\n    else\r\n    {\r\n      let today = new Date();\r\n      let voucher = this.state.code.toUpperCase();\r\n      voucher = voucher + today.getFullYear() + \"_\" +  (\"0\" + (today.getMonth()+1)).slice(-2);\r\n      let link = 'https://www.udemy.com/einfuehrung-in-power-pivot/?couponCode=' + voucher;\r\n      window.open(link,'_blank');\r\n      this.setState({\r\n        error: null\r\n      })\r\n    }\r\n  }\r\n  \r\n  componentDidMount()\r\n  {\r\n    if(typeof window !== \"undefined\")\r\n    {\r\n      let search = (this.props.location as any).search.substr(1);\r\n      let params: any = {}\r\n      for(let p of search.split(\"&\"))\r\n      {\r\n        let s = p.split(\"=\");\r\n        if(s.length == 2)\r\n        {\r\n          params[s[0]] = s[1];\r\n        }\r\n      }\r\n      if(params.gutscheincode != null || params.coupon != null)\r\n      {\r\n        let val = params.gutscheincode || params.coupon;\r\n        (document.getElementById(\"redeem-input\") as HTMLInputElement).value = val;\r\n        this.setState({\r\n          code: val,\r\n          hasQueryVoucher: true\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  render()\r\n  {\r\n    let header: IHeaderProps = {\r\n      description: \"Artikel, Tipps&Tricks, Online Kurse zu Excel Power Pivot, Power BI und Power Query | Gutschein für kostenlose Kurse einlösen\",\r\n      title: `Home | ${config.site.title}`,\r\n      type: \"website\",\r\n      url: \"gutschein\"\r\n    }\r\n    return (\r\n      <ContentLayoutWithSidebar \r\n      header={header}\r\n      sidebar={(\r\n        <SideBar isFixed={true}>\r\n          <SideBarQuickstart></SideBarQuickstart>\r\n          <SideBarHelp></SideBarHelp>\r\n          <SideBarCategories></SideBarCategories>\r\n        </SideBar>\r\n      )} \r\n      >\r\n      <div className=\"section\">\r\n        <h1>Dein Gutschein</h1>        \r\n        <p>Super! Du hast einen Gutschein für unseren Online-Kurs erhalten!</p>\r\n        <p>In unserem Online-Kurs \"Einführung in Power Pivot\" zeigen wir dir, was du mit Excel Power Pivot machen kannst. Wenn du mehr wissen willst, findest du hier auf unserem Blog viele Artikel zu den Themen Excel Power Pivot, Power Query und Power BI. Melde dich zu unserem Newsletter an und du verpasst keinen Artikel.</p>\r\n        <div style={{textAlign: \"center\"}}>\r\n          <button className=\"button action-button\" onClick={this.onSubscribe}>Zum Newsletter anmelden</button>\r\n        </div>\r\n      </div>\r\n      <div className=\"section\">\r\n        <form onSubmit={this.onRedeem}>\r\n          <h1>Gutschein einlösen</h1>\r\n          {\r\n            this.state.hasQueryVoucher == false ? \r\n              <p>Tippe hier den Gutscheincode ein und wir leiten dich direkt zum Anbieter weiter</p> \r\n              :\r\n              <p>Löse deinen Gutschein ein und wir leiten dich direkt zum Anbieter weiter</p> \r\n          }\r\n          <div>\r\n            <div className=\"input-label\">\r\n              <label>Gutscheincode</label>\r\n              {\r\n                (this.state.error != null) ? <span className=\"error-string\">{this.state.error}</span> : \"\"\r\n              }\r\n            </div>\r\n            <input id=\"redeem-input\" onChange={this.handleChange} name=\"gutscheincode\" className=\"input\" type=\"text\"></input>\r\n          </div>\r\n          <div style={{textAlign: \"center\", marginTop:\".5em\"}}>\r\n            <input type=\"submit\" className=\"button action-button\" value=\"meinen Gutschein einlösen\"/>\r\n          </div>\r\n          <div style={{marginTop: \"15px\"}}>\r\n            <p><b>Probleme mit dem Gutschein?</b> <Link to=\"/kontakt\">Bitte kurze Nachricht an uns!</Link></p>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      </ContentLayoutWithSidebar>\r\n    )\r\n  }\r\n}\r\n\r\nconst Page = ({data, pageContext, location}) => {\r\n  return (\r\n    <VoucherPage location={location}></VoucherPage>\r\n  );\r\n};\r\nexport default Page;\r\n\r\n\r\n"],"sourceRoot":""}