{"version":3,"sources":["webpack:///./src/components/ContentFooter/ContentFooter.tsx","webpack:///./src/components/ContentFooter/NextPrevPostFooter.tsx","webpack:///./src/pagecomponents/PostPage/PostPage.tsx","webpack:///./src/components/CategoryBar/CategoryBar.tsx"],"names":["ContentFooter","render","className","this","props","children","React","Component","NextPrevPostFooter","style","flexBasis","previousPost","to","route","title","verticalAlign","marginRight","length","substr","nextPost","PostPage","post","data","context","categories","nestCategories","edges","map","e","node","cat","frontmatter","c","getCategory","tagNodes","tags","n","t","find","tag","slug","header","url","description","type","name","image","childImageSharp","fluid","src","updated_time","updatedate","publish_time","date","ContentLayout","sidebar","SideBar","isFixed","SideBarContent","tableOfContents","SideBarHelp","categoryBar","CategoryBar","friendlyname","join","PostHeader","commentCnt","fields","author","isPreview","html","htmlAst","subscriberContent","SubscriberFooter","content","PostFooter","next","prev","AuthorFooter","authorBadge","avatar","CommentFooter","comments","pageQuery","Page","pageContext","location"],"mappings":"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","file":"component---src-pagecomponents-post-page-post-page-tsx-6724c74122a9e5d52a62.js","sourcesContent":["import React from \"react\";\r\nimport \"./ContentFooter.sass\";\r\n\r\nexport class ContentFooter extends React.Component\r\n{\r\n  render()\r\n  {\r\n    return (\r\n      <>\r\n        <div className=\"contentfooter-container\">\r\n        <hr/>\r\n        {\r\n          this.props.children\r\n        }\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}","import React from \"react\";\r\nimport { FaArrowAltCircleRight, FaArrowAltCircleLeft } from \"react-icons/fa\";\r\nimport \"./ContentFooter.sass\";\r\nimport { Link } from \"../Misc\";\r\ninterface IProps\r\n{\r\n  nextPost: {title: string; route: string;};\r\n  previousPost: {title: string; route: string;}\r\n}\r\n\r\nexport class NextPrevPostFooter extends React.Component<IProps>\r\n{\r\n  render()\r\n  {\r\n    return (\r\n      <>\r\n        <div className=\"next-prev-container\">\r\n          <div style={{flexBasis: \"content\"}} className=\"prev\">\r\n          {\r\n            this.props.previousPost == null ? \"\" : (\r\n              <Link to={\"/\"+this.props.previousPost.route} title={this.props.previousPost.title}>\r\n                <span style={{verticalAlign: \"middle\", marginRight: \"10px\"}}>  \r\n                  <FaArrowAltCircleLeft/>\r\n                </span>\r\n                <span>\r\n                  {\r\n                    this.props.previousPost.title.length <= 28 ? this.props.previousPost.title : this.props.previousPost.title.substr(0, 25) + \"...\"\r\n                  }\r\n                </span>\r\n              </Link>\r\n            )\r\n          }\r\n          </div>\r\n          <div style={{flexBasis: \"content\"}} className=\"next\">\r\n          {\r\n            this.props.nextPost == null ? \"\" : (\r\n              <Link to={\"/\"+this.props.nextPost.route} title={this.props.nextPost.title}>\r\n                <span>\r\n                  {\r\n                    this.props.nextPost.title.length <= 28 ? this.props.nextPost.title : this.props.nextPost.title.substr(0, 25) + \"...\"\r\n                  }\r\n                </span>\r\n                <span className=\"next-prev-icon\">\r\n                  <FaArrowAltCircleRight/>\r\n                </span>\r\n              </Link>\r\n            )\r\n          }\r\n          </div>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}","import { graphql } from \"gatsby\";\r\nimport React from \"react\";\r\nimport { IPost, IQueryArrayResult, ICategory, IAuthor, IComment, ITag, IGatsbyLocation } from '../../interfaces';\r\nimport { ContentLayoutWithSidebar } from \"../../components/Layout/ContentLayout\";\r\nimport { SideBar } from \"../../components/SideBar/SideBar\";\r\nimport { SideBarContent } from \"../../components/SideBar/SideBarContent\";\r\nimport { SideBarHelp } from \"../../components/SideBar/SideBarHelp\";\r\nimport { CategoryBar } from \"../../components/CategoryBar/CategoryBar\";\r\nimport { PostHeader } from \"../../components/Post/PostHeader\";\r\nimport { ReactHTMLContent } from \"../../components/Content/Content\";\r\nimport { getCategory, nestCategories } from '../../tool';\r\nimport { ContentFooter } from \"../../components/ContentFooter/ContentFooter\";\r\nimport { PostFooter } from \"../../components/ContentFooter/PostFooter\";\r\nimport { NextPrevPostFooter } from \"../../components/ContentFooter/NextPrevPostFooter\";\r\nimport { CommentFooter } from \"../../components/ContentFooter/CommentFooter\";\r\nimport { SubscriberFooter } from '../../components/ContentFooter/SubscriberFooter';\r\nimport { AuthorFooter } from \"../../components/ContentFooter/AuthorFooter\";\r\nimport { IHeaderProps } from \"../../components/Layout/Header\";\r\n\r\ninterface IQueryResult\r\n{\r\n  data: {\r\n    post: IPost,\r\n    categories: IQueryArrayResult<ICategory>\r\n    tags: IQueryArrayResult<ITag>\r\n    avatar: any;\r\n    image: any;\r\n    authorBadge: any;\r\n  }\r\n  context: {\r\n    prev: {title: string; route: string;};\r\n    next: {title: string; route: string;};\r\n    author: IAuthor;\r\n    comments: IComment[];\r\n  };\r\n  location: IGatsbyLocation;\r\n}\r\n\r\nexport class PostPage extends React.Component<IQueryResult>\r\n{\r\n  constructor(props)\r\n  {\r\n    super(props);\r\n  }\r\n  render(){\r\n    let post = this.props.data.post;\r\n    let context = this.props.context;\r\n\r\n    let categories = nestCategories(this.props.data.categories.edges.map(e => e.node));\r\n    let cat = post.frontmatter.categories.map(c => getCategory(c, categories));\r\n    let tagNodes = this.props.data.tags.edges.map(n => n.node);\r\n    let tags = this.props.data.post.frontmatter.tags.map(t => tagNodes.find(tag => tag.slug == t));\r\n    let header: IHeaderProps = {\r\n      url: this.props.data.post.frontmatter.slug,\r\n      description: post.frontmatter.description,\r\n      type: \"article\",\r\n      title: post.frontmatter.title,\r\n      tags: tags.map(t => t.name),\r\n      image: this.props.data.post.frontmatter.image != null ? this.props.data.image?.childImageSharp?.fluid?.src : null,\r\n      updated_time: post.frontmatter.updatedate,\r\n      publish_time: post.frontmatter.date\r\n    }\r\n\r\n    return (\r\n      <ContentLayoutWithSidebar \r\n        sidebar={(\r\n          <SideBar isFixed={true}>\r\n            <SideBarContent tableOfContents={post.tableOfContents} />\r\n            <SideBarHelp/>\r\n          </SideBar>\r\n        )} \r\n        categoryBar={(<CategoryBar title={cat.map(c => c.friendlyname).join(\" - \")}/>)}\r\n        header={header}\r\n      >\r\n        <PostHeader frontmatter={post.frontmatter} commentCnt={post.fields.commentCnt} author={context.author} categories={cat} isPreview={false}/>\r\n        <div className=\"post-content\">\r\n          {/* <HTMLContent content={post.html}></HTMLContent> */}\r\n          <ReactHTMLContent html={post.htmlAst}></ReactHTMLContent>\r\n          {\r\n            (post.fields.subscriberContent == null || post.fields.subscriberContent.length == 0) ?          \r\n            \"\"\r\n            : \r\n            <SubscriberFooter content={post.fields.subscriberContent}></SubscriberFooter> \r\n          }\r\n        </div>\r\n        <ContentFooter>\r\n          <PostFooter tags={tags} categories={cat} />\r\n          <NextPrevPostFooter nextPost={context.next} previousPost={context.prev}></NextPrevPostFooter>\r\n          <AuthorFooter author={this.props.context.author} authorBadge={this.props.data.authorBadge} avatar={this.props.data.avatar}></AuthorFooter>\r\n          <CommentFooter slug={post.frontmatter.slug} comments={context.comments}></CommentFooter>\r\n        </ContentFooter>\r\n      </ContentLayoutWithSidebar>\r\n    );\r\n  }\r\n}\r\n\r\nconst Page = ({data, pageContext, location}) => {\r\n  return (\r\n    <PostPage location={location} data={data} context={pageContext}></PostPage>\r\n  );\r\n};\r\nexport default Page;\r\n\r\nexport const pageQuery = graphql`\r\n  query BlogPostByID($id: String!, $avatar: String!, $authorBadge: String, $image: String!) {\r\n    post: markdownRemark(\r\n      id: { eq: $id }\r\n      fileAbsolutePath: {\r\n        regex: \"/.*\\/data\\/posts\\/.*[.]md/\"\r\n      }\r\n    ){\r\n      ...post\r\n    }\r\n    avatar: file(\r\n    \tabsolutePath: { regex: \"/.*\\/data\\/img\\/*/\"}  \r\n      name:{ eq: $avatar}\r\n    ){\r\n      childImageSharp {\r\n        fixed(width: 100, height: 100) {\r\n          ...GatsbyImageSharpFixed\r\n        }\r\n      }\r\n    }\r\n    authorBadge: file(\r\n    \tabsolutePath: { regex: \"/.*\\/data\\/img\\/*/\"}  \r\n      name:{ eq: $authorBadge}\r\n    ){\r\n      childImageSharp {\r\n        fixed(width: 100, height: 100) {\r\n          ...GatsbyImageSharpFixed\r\n        }\r\n      }\r\n    }\r\n    image: file(\r\n    \tabsolutePath: { eq: $image}  \r\n    ){\r\n      childImageSharp {\r\n        fluid(maxWidth: 2000) {\r\n          ...GatsbyImageSharpFluid\r\n        }\r\n      }\r\n    }\r\n    ...categories\r\n    ...tags\r\n}\r\n`;\r\n","import React from \"react\";\r\nimport \"./CategoryBar.sass\"\r\n\r\ninterface CategoryBarProps {\r\n  title: string;\r\n}\r\n\r\nexport class CategoryBar extends React.Component<CategoryBarProps> {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {/* <h1>\r\n          {this.props.title}\r\n        </h1> */}\r\n        <div className=\"category-bar\">\r\n          {this.props.title}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\n"],"sourceRoot":""}