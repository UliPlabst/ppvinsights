{"version":3,"sources":["webpack:///./src/pagecomponents/AuthorPage/AuthorPage.tsx","webpack:///./src/components/SideBar/SideBar.tsx","webpack:///./src/components/CategoryBar/CategoryBar.tsx","webpack:///./src/components/Post/PostHeader.tsx","webpack:///./src/components/Post/PostPreview.tsx","webpack:///./src/components/Content/EmptyContent.tsx","webpack:///./src/components/Post/PostList.tsx"],"names":["AuthorPage","_React$Component","apply","this","arguments","prototype","render","posts","props","data","edges","map","e","node","sort","a","b","fields","timestamp","categories","header","url","urlJoin","context","author","frontmatter","slug","description","firstname","lastname","type","title","tags","image","avatar","childImageSharp","fixed","src","react__WEBPACK_IMPORTED_MODULE_2___default","createElement","_components_Layout_ContentLayout__WEBPACK_IMPORTED_MODULE_4__","sidebar","_components_SideBar_SideBar__WEBPACK_IMPORTED_MODULE_5__","isFixed","_components_SideBar_SideBarQuickstart__WEBPACK_IMPORTED_MODULE_6__","_components_SideBar_SideBarHelp__WEBPACK_IMPORTED_MODULE_7__","_components_CategoryBar_CategoryBar__WEBPACK_IMPORTED_MODULE_8__","_components_Author_AuthorContent__WEBPACK_IMPORTED_MODULE_3__","_components_Post_PostList__WEBPACK_IMPORTED_MODULE_9__","nestCategories","authors","React","Component","Page","_ref","pageContext","location","pageQuery","SideBar","_this","call","onScroll","ev","offset","window","scrollY","container","document","getElementById","setState","offsetTop","state","_proto","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","react__WEBPACK_IMPORTED_MODULE_1___default","className","children","CategoryBar","react__WEBPACK_IMPORTED_MODULE_0___default","PostHeader","date","moment","update","updatedate","Math","abs","diff","isBefore","react_icons_fa__WEBPACK_IMPORTED_MODULE_3__","gatsby__WEBPACK_IMPORTED_MODULE_1__","to","format","subtitle","PostPreview","post","react_default","commentCnt","gatsby_browser_entry","Content","content","abstract","excerpt","EmptyContent","PostList","p","i","key","PostPreview_PostPreview","c","getCategory","getAuthor","length","EmptyContent_EmptyContent"],"mappings":"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","file":"component---src-pagecomponents-author-page-author-page-tsx-19861d58f752f2b7cd50.js","sourcesContent":["import React from \"react\";\nimport { graphql } from \"gatsby\";\nimport { AuthorContent } from \"../../components/Author/AuthorContent\";\nimport { IPost, ICategory, IAuthor, IQueryArrayResult, IGatsbyLocation } from '../../interfaces';\nimport { ContentLayoutWithSidebar } from \"../../components/Layout/ContentLayout\";\nimport { SideBar } from \"../../components/SideBar/SideBar\";\nimport { SideBarQuickstart } from \"../../components/SideBar/SideBarQuickstart\";\nimport { SideBarHelp } from \"../../components/SideBar/SideBarHelp\";\nimport { CategoryBar } from \"../../components/CategoryBar/CategoryBar\";\nimport { PostList } from \"../../components/Post/PostList\";\nimport { urlJoin, nestCategories } from '../../tool';\nimport { IHeaderProps } from \"../../components/Layout/Header\";\n\ninterface IQueryResult \n{\n  data: {\n    posts: IQueryArrayResult<IPost>;\n    categories: IQueryArrayResult<ICategory>;\n    avatar: any;\n  }\n  context: {\n    author: IAuthor;\n  }\n  location: IGatsbyLocation;\n}\nexport class AuthorPage extends React.Component<IQueryResult>\n{\n  render() \n  {\n    let posts      = this.props.data.posts.edges\n      .map(e => e.node)\n      .sort((a,b) => {\n        if(a.fields.timestamp > b.fields.timestamp)\n          return -1\n        else\n          return 1;\n      });\n\n    let categories = this.props.data.categories.edges.map(e => e.node);\n\n    let header: IHeaderProps = {\n      url: urlJoin(\"author\", this.props.context.author.frontmatter.slug),\n      description: `Posts von ${this.props.context.author.frontmatter.firstname + \" \" + this.props.context.author.frontmatter.lastname}`,\n      type: \"object\",\n      title: `${this.props.context.author.frontmatter.firstname + \" \" + this.props.context.author.frontmatter.lastname}, Autor bei Powerpivot Insights | Durchblick durch Daten`,\n      tags: [\"author\", this.props.context.author.frontmatter.firstname, this.props.context.author.frontmatter.lastname],\n      image: this.props.data.avatar.childImageSharp.fixed.src\n    }\n    return(\n      <ContentLayoutWithSidebar \n        header={header}\n        sidebar={(\n          <SideBar isFixed={false}>\n            <SideBarQuickstart/>\n            <SideBarHelp/>\n            {/* <SideBarCategories/> */}\n          </SideBar> \n        )} \n        >\n      <CategoryBar title={\"Author\"}/>\n      <AuthorContent author={this.props.context.author} avatar={this.props.data.avatar}></AuthorContent>\n      <hr/>\n      <PostList posts={posts} categories={nestCategories(categories)} authors={[this.props.context.author]}/>\n      </ContentLayoutWithSidebar>\n    )\n  }\n}\n\n\nconst Page = ({data, pageContext, location}) => {\n  return (\n    <AuthorPage data={data} context={pageContext} location={location}></AuthorPage>\n  );\n};\n\nexport default Page;\n\nexport const pageQuery = graphql`\n  query authorPosts($authorSlug: String!, $avatar: String!, $now: Int!) {\n    posts: allMarkdownRemark(\n      filter: {\n        fileAbsolutePath: {\n          regex: \"/.*\\/data\\/posts\\/.*[.]md/\"\n        }\n        frontmatter: {\n          author: {\n            eq: $authorSlug\n          }\n        }\n        fields: {\n          publishTimestamp:{\n            lt: $now\n          }\n        }\n      }\n    )\n    {\n      edges {\n        node {\n          ...postShort\n        }\n      }\n    }\n    avatar: file(\n    \tabsolutePath: { regex: \"/.*\\/data\\/img\\//\"}  \n      name:{ eq: $avatar}\n    ){\n      childImageSharp {\n        fixed(width: 100, height: 100) {\n          ...GatsbyImageSharpFixed\n        }\n      }\n    }\n    ...categories\n  }\n`;\n","import React from \"react\";\n\nexport class SideBar extends React.Component<{isFixed: boolean, children: any}, {fixed: boolean}>\n{\n  constructor(props)\n  {\n    super(props);\n    this.state = {\n      fixed: false\n    }\n  }\n\n  onScroll = (ev: Event) => {\n    let offset = window.scrollY;\n    let container = document.getElementById(\"content-container\");\n    this.setState({\n      fixed: offset > container.offsetTop\n    });\n  }\n\n  componentDidMount()\n  {\n    if(this.props.isFixed == true)\n      window.addEventListener(\"scroll\", this.onScroll);\n  }\n\n  componentWillUnmount()\n  {\n    if(this.props.isFixed == true)\n      window.removeEventListener(\"scroll\", this.onScroll);\n  }\n\n  render()\n  {\n    return (\n      <div className={this.state.fixed == true ? \"sidebar-fixed\" : \"sidebar-not-fixed\"}>\n        {this.props.children}\n      </div>\n    )\n  }\n}","import React from \"react\";\nimport { Link } from \"gatsby\";\nimport \"./CategoryBar.sass\"\n\ninterface CategoryBarProps {\n  title: string;\n}\n\nexport class CategoryBar extends React.Component<CategoryBarProps> {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div>\n        {/* <h1>\n          {this.props.title}\n        </h1> */}\n        <div className=\"category-bar\">\n          {this.props.title}\n        </div>\n      </div>\n    );\n  }\n};\n\n","import React from \"react\";\nimport { Link } from \"gatsby\";\nimport \"./Post.sass\";\nimport { FaClock, FaComment, FaUser, FaBookmark, FaEdit } from \"react-icons/fa\"\nimport * as moment from \"moment\";\nimport { getCategory, constructCategoryUrl, getAuthor, INestedCategory } from '../../tool';\nimport { IAuthor, ICategory, IPostFrontmatter } from \"../../interfaces\";\n\ninterface IProps\n{\n  author: IAuthor;\n  commentCnt: number;\n  isPreview?: boolean;\n  frontmatter: IPostFrontmatter;\n  categories: INestedCategory[];\n}\n\nexport class PostHeader extends React.Component<IProps> {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const dateFormat = \"DD MMM, 'YY\"\n    let date = moment(this.props.frontmatter.date);\n    let update = null;\n    if(this.props.frontmatter.updatedate != null && this.props.frontmatter.updatedate != \"\")\n    {\n      if(!(Math.abs(date.diff(update)) <= 86400000 || update.isBefore(date) == true))\n      {\n        update = moment(this.props.frontmatter.updatedate);\n      }\n    }\n\n    return (\n      <div className=\"post-header\">\n        <div className=\"post-meta\">\n          <div title=\"Author\">\n          <FaUser/> \n          <Link className=\"post-meta-content\" to={\"/author/\"+this.props.author.frontmatter.slug}>{this.props.author != null ? this.props.author.frontmatter.firstname + \" \" + this.props.author.frontmatter.lastname : \"\"}\n          </Link>\n          </div>\n          {\n            update != null ? <div title=\"Bearbeitet\" className=\"post-meta-time\">\n              <FaEdit/>\n              <span className=\"post-meta-content\">{update.format(dateFormat)}</span> \n            </div> : \"\"\n          }\n          <div title=\"Angelegt\" className=\"post-meta-time\">\n            <FaClock/> \n            <span className=\"post-meta-content\">{date.format(dateFormat)}</span> \n          </div>\n        </div>\n        <div className=\"post-subtitle\">\n        {\n          this.props.frontmatter.subtitle != null ? <Link to={this.props.frontmatter.slug}>{this.props.frontmatter.subtitle}</Link> : \"\"\n        }\n        </div>\n        <div>\n          <h1>\n            <Link to={this.props.frontmatter.slug}>{this.props.frontmatter.title}</Link>\n          </h1>\n        </div>\n      </div>\n    );\n  }\n};\n\n","import React from \"react\";\nimport { Link } from \"gatsby\";\nimport \"./Post.sass\";\nimport { PostHeader } from './PostHeader';\nimport { IPostProps } from \"./Post\";\nimport { HTMLContent } from \"../Content/Content\";\nimport { FaLongArrowAltRight } from \"react-icons/fa\";\n\nexport class PostPreview extends React.Component<IPostProps> {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    let { post } = this.props;\n    return (\n      <div className=\"post-preview\">\n        <div>\n          <PostHeader frontmatter={post.frontmatter} commentCnt={post.fields.commentCnt} author={this.props.author} categories={this.props.categories}/>\n        </div>\n        <div className=\"post-content\">\n        <Link to={post.frontmatter.slug}>\n          <HTMLContent content={this.props.post.fields.abstract ? this.props.post.fields.abstract : this.props.post.excerpt}> </HTMLContent>\n        </Link>\n          {/* <div>\n            <Link to={post.frontmatter.slug}><span style={{verticalAlign: \"middle\"}}><FaLongArrowAltRight/></span> Mehr</Link>\n          </div> */}\n        </div>\n      </div>\n    );\n  }\n};\n\n","import React from \"react\";\nimport \"./Content.sass\"\n\nexport class EmptyContent extends React.Component\n{\n  render()\n  {\n    return (\n      <div className=\"empty-content-container\">Hier gibt es noch keine Inhalte</div>\n    )\n  }\n}\n","import React from \"react\";\nimport { IPost, IAuthor } from '../../interfaces';\nimport { getCategory, getAuthor, nestCategories, INestedCategory } from \"../../tool\";\nimport { PostPreview } from \"./PostPreview\";\nimport { EmptyContent } from \"../Content/EmptyContent\";\n\nexport class PostList extends React.Component<{posts: IPost[], categories: INestedCategory[], authors: IAuthor[]}>\n{\n  render() \n  {\n    return (\n      <div>\n      {\n        this.props.posts.map((p,i) => (\n          <div key={i}>\n            <PostPreview post={p} categories={p.frontmatter.categories.map(c => getCategory(c, this.props.categories))} author={getAuthor(p.frontmatter.author, this.props.authors)}></PostPreview>\n          </div>\n        ))\n      }\n      {\n        this.props.posts.length == 0 ? <EmptyContent/> : \"\"\n      }\n      </div>\n    )\n  }\n}\n"],"sourceRoot":""}