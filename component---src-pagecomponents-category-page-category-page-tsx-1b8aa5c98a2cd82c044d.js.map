{"version":3,"sources":["webpack:///./src/pagecomponents/CategoryPage/CategoryPage.tsx","webpack:///./src/components/SideBar/SideBar.tsx","webpack:///./src/components/CategoryBar/CategoryBar.tsx","webpack:///./src/components/Post/PostHeader.tsx","webpack:///./src/components/Post/PostPreview.tsx","webpack:///./src/components/Content/EmptyContent.tsx","webpack:///./src/components/Post/PostList.tsx"],"names":["Category","_React$Component","props","call","this","prototype","render","posts","data","edges","map","e","node","sort","a","b","fields","timestamp","categories","nestCategories","authors","currentCategory","getCategory","context","cat","currentCategoryString","friendlyname","currentCategoryPath","slug","c","parent","headerTags","urlJoin","push","header","url","description","type","title","tags","react__WEBPACK_IMPORTED_MODULE_1___default","createElement","_components_Layout_ContentLayout__WEBPACK_IMPORTED_MODULE_2__","sidebar","_components_SideBar_SideBar__WEBPACK_IMPORTED_MODULE_3__","isFixed","_components_SideBar_SideBarQuickstart__WEBPACK_IMPORTED_MODULE_5__","_components_SideBar_SideBarHelp__WEBPACK_IMPORTED_MODULE_6__","_components_SideBar_SideBarCategories__WEBPACK_IMPORTED_MODULE_7__","_components_CategoryBar_CategoryBar__WEBPACK_IMPORTED_MODULE_8__","_components_Post_PostList__WEBPACK_IMPORTED_MODULE_9__","React","Component","Page","_ref","pageContext","location","pageQuery","SideBar","_this","onScroll","ev","offset","window","scrollY","container","document","getElementById","setState","fixed","offsetTop","state","_proto","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","className","children","CategoryBar","react__WEBPACK_IMPORTED_MODULE_0___default","PostHeader","date","moment","frontmatter","update","updatedate","Math","abs","diff","isBefore","react_icons_fa__WEBPACK_IMPORTED_MODULE_3__","gatsby__WEBPACK_IMPORTED_MODULE_1__","to","author","firstname","lastname","format","subtitle","PostPreview","post","react_default","commentCnt","gatsby_browser_entry","Content","content","abstract","excerpt","EmptyContent","apply","arguments","PostList","p","i","key","PostPreview_PostPreview","getAuthor","length","EmptyContent_EmptyContent"],"mappings":"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","file":"component---src-pagecomponents-category-page-category-page-tsx-1b8aa5c98a2cd82c044d.js","sourcesContent":["import { graphql } from \"gatsby\";\nimport React from \"react\";\nimport { IQueryArrayResult, ICategory, IAuthor, IPost, ITag, IGatsbyLocation } from '../../interfaces';\nimport { ContentLayoutWithSidebar } from '../../components/Layout/ContentLayout';\nimport { SideBar } from \"../../components/SideBar/SideBar\";\nimport { nestCategories, getCategory, urlJoin } from '../../tool';\nimport { SideBarQuickstart } from \"../../components/SideBar/SideBarQuickstart\";\nimport { SideBarHelp } from \"../../components/SideBar/SideBarHelp\";\nimport SideBarCategories from \"../../components/SideBar/SideBarCategories\";\nimport { CategoryBar } from \"../../components/CategoryBar/CategoryBar\";\nimport { PostList } from '../../components/Post/PostList';\nimport { IHeaderProps } from \"../../components/Layout/Header\";\n\ninterface IQueryResult\n{\n  data: {\n    posts: IQueryArrayResult<IPost>;\n    categories: IQueryArrayResult<ICategory>\n    authors: IQueryArrayResult<IAuthor>\n    tags: IQueryArrayResult<ITag>\n  };\n  context: any;\n  location: IGatsbyLocation;\n}\n\n\nexport class Category extends React.Component<IQueryResult>\n{\n  constructor(props)\n  {\n    super(props);\n  }\n  render(){\n    let posts = this.props.data.posts.edges\n      .map(e => e.node)\n      .sort((a,b) => {\n        if(a.fields.timestamp > b.fields.timestamp)\n          return -1\n        else\n          return 1;\n      });\n    let categories            = nestCategories(this.props.data.categories.edges.map(e => e.node));\n    let authors               = this.props.data.authors.edges.map(e => e.node);\n    let currentCategory       = getCategory(this.props.context.cat, categories);\n    let currentCategoryString = currentCategory.friendlyname;\n    let currentCategoryPath   = currentCategory.slug;\n    let c                     = currentCategory.parent;\n    let headerTags            = [currentCategory.friendlyname];\n\n    while(c != null)\n    {\n      currentCategoryString = c.friendlyname + \" / \" + currentCategoryString;\n      currentCategoryPath   = urlJoin(c.slug, currentCategoryPath)\n      headerTags.push(c.friendlyname);\n\n      c = c.parent;\n    }\n\n    let header: IHeaderProps = {\n      url: urlJoin(\"category\", currentCategoryPath),\n      description: `Posts about ${currentCategory.friendlyname}`,\n      type: \"object\",\n      title: `${currentCategory.friendlyname} Archive | Powerpivot Insights | Durchblick durch Daten`,\n      tags: headerTags\n    }\n\n    return (\n      <ContentLayoutWithSidebar\n      header={header} \n      sidebar={(\n        <SideBar isFixed={true}>\n          <SideBarQuickstart></SideBarQuickstart>\n          <SideBarHelp></SideBarHelp>\n          <SideBarCategories></SideBarCategories>\n        </SideBar>\n      )} \n      >\n      <CategoryBar title={\"Kategorie / \"+currentCategoryString}/>\n      <PostList posts={posts} categories={categories} authors={authors}/>\n      </ContentLayoutWithSidebar>\n    )\n  }\n}\n\nconst Page = ({pageContext, data, location}) => {\n  return (\n    <Category data={data} location={location} context={pageContext}></Category>\n  );\n};\nexport default Page;\n\nexport const pageQuery = graphql`\n  query categoryPosts($cat: String!, $now: Int!) {\n    posts: allMarkdownRemark(\n      filter: {\n        fileAbsolutePath: {\n          regex: \"/.*/data/posts/.*[.]md/\"\n        }, \n        frontmatter: {\n          categories: {\n            eq: $cat\n          }\n        }\n        fields: {\n          publishTimestamp:{\n            lt: $now\n          }\n        }\n      }) {\n      edges {\n        node {\n          ...postShort\n        }\n      }\n    }\n    ...categories\n    ...authorsMarkdown\n    ...tags\n  }\n`;\n","import React from \"react\";\n\nexport class SideBar extends React.Component<{isFixed: boolean, children: any}, {fixed: boolean}>\n{\n  constructor(props)\n  {\n    super(props);\n    this.state = {\n      fixed: false\n    }\n  }\n\n  onScroll = (ev: Event) => {\n    let offset = window.scrollY;\n    let container = document.getElementById(\"content-container\");\n    this.setState({\n      fixed: offset > container.offsetTop\n    });\n  }\n\n  componentDidMount()\n  {\n    if(this.props.isFixed == true)\n      window.addEventListener(\"scroll\", this.onScroll);\n  }\n\n  componentWillUnmount()\n  {\n    if(this.props.isFixed == true)\n      window.removeEventListener(\"scroll\", this.onScroll);\n  }\n\n  render()\n  {\n    return (\n      <div className={this.state.fixed == true ? \"sidebar-fixed\" : \"sidebar-not-fixed\"}>\n        {this.props.children}\n      </div>\n    )\n  }\n}","import React from \"react\";\nimport { Link } from \"gatsby\";\nimport \"./CategoryBar.sass\"\n\ninterface CategoryBarProps {\n  title: string;\n}\n\nexport class CategoryBar extends React.Component<CategoryBarProps> {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div>\n        {/* <h1>\n          {this.props.title}\n        </h1> */}\n        <div className=\"category-bar\">\n          {this.props.title}\n        </div>\n      </div>\n    );\n  }\n};\n\n","import React from \"react\";\nimport { Link } from \"gatsby\";\nimport \"./Post.sass\";\nimport { FaClock, FaComment, FaUser, FaBookmark, FaEdit } from \"react-icons/fa\"\nimport * as moment from \"moment\";\nimport { getCategory, constructCategoryUrl, getAuthor, INestedCategory } from '../../tool';\nimport { IAuthor, ICategory, IPostFrontmatter } from \"../../interfaces\";\n\ninterface IProps\n{\n  author: IAuthor;\n  commentCnt: number;\n  isPreview?: boolean;\n  frontmatter: IPostFrontmatter;\n  categories: INestedCategory[];\n}\n\nexport class PostHeader extends React.Component<IProps> {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const dateFormat = \"DD MMM, 'YY\"\n    let date = moment(this.props.frontmatter.date);\n    let update = null;\n    if(this.props.frontmatter.updatedate != null && this.props.frontmatter.updatedate != \"\")\n    {\n      if(!(Math.abs(date.diff(update)) <= 86400000 || update.isBefore(date) == true))\n      {\n        update = moment(this.props.frontmatter.updatedate);\n      }\n    }\n\n    return (\n      <div className=\"post-header\">\n        <div className=\"post-meta\">\n          <div title=\"Author\">\n          <FaUser/> \n          <Link className=\"post-meta-content\" to={\"/author/\"+this.props.author.frontmatter.slug}>{this.props.author != null ? this.props.author.frontmatter.firstname + \" \" + this.props.author.frontmatter.lastname : \"\"}\n          </Link>\n          </div>\n          {\n            update != null ? <div title=\"Bearbeitet\" className=\"post-meta-time\">\n              <FaEdit/>\n              <span className=\"post-meta-content\">{update.format(dateFormat)}</span> \n            </div> : \"\"\n          }\n          <div title=\"Angelegt\" className=\"post-meta-time\">\n            <FaClock/> \n            <span className=\"post-meta-content\">{date.format(dateFormat)}</span> \n          </div>\n        </div>\n        <div className=\"post-subtitle\">\n        {\n          this.props.frontmatter.subtitle != null ? <Link to={this.props.frontmatter.slug}>{this.props.frontmatter.subtitle}</Link> : \"\"\n        }\n        </div>\n        <div>\n          <h1>\n            <Link to={this.props.frontmatter.slug}>{this.props.frontmatter.title}</Link>\n          </h1>\n        </div>\n      </div>\n    );\n  }\n};\n\n","import React from \"react\";\nimport { Link } from \"gatsby\";\nimport \"./Post.sass\";\nimport { PostHeader } from './PostHeader';\nimport { IPostProps } from \"./Post\";\nimport { HTMLContent } from \"../Content/Content\";\nimport { FaLongArrowAltRight } from \"react-icons/fa\";\n\nexport class PostPreview extends React.Component<IPostProps> {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    let { post } = this.props;\n    return (\n      <div className=\"post-preview\">\n        <div>\n          <PostHeader frontmatter={post.frontmatter} commentCnt={post.fields.commentCnt} author={this.props.author} categories={this.props.categories}/>\n        </div>\n        <div className=\"post-content\">\n        <Link to={post.frontmatter.slug}>\n          <HTMLContent content={this.props.post.fields.abstract ? this.props.post.fields.abstract : this.props.post.excerpt}> </HTMLContent>\n        </Link>\n          {/* <div>\n            <Link to={post.frontmatter.slug}><span style={{verticalAlign: \"middle\"}}><FaLongArrowAltRight/></span> Mehr</Link>\n          </div> */}\n        </div>\n      </div>\n    );\n  }\n};\n\n","import React from \"react\";\nimport \"./Content.sass\"\n\nexport class EmptyContent extends React.Component\n{\n  render()\n  {\n    return (\n      <div className=\"empty-content-container\">Hier gibt es noch keine Inhalte</div>\n    )\n  }\n}\n","import React from \"react\";\nimport { IPost, IAuthor } from '../../interfaces';\nimport { getCategory, getAuthor, nestCategories, INestedCategory } from \"../../tool\";\nimport { PostPreview } from \"./PostPreview\";\nimport { EmptyContent } from \"../Content/EmptyContent\";\n\nexport class PostList extends React.Component<{posts: IPost[], categories: INestedCategory[], authors: IAuthor[]}>\n{\n  render() \n  {\n    return (\n      <div>\n      {\n        this.props.posts.map((p,i) => (\n          <div key={i}>\n            <PostPreview post={p} categories={p.frontmatter.categories.map(c => getCategory(c, this.props.categories))} author={getAuthor(p.frontmatter.author, this.props.authors)}></PostPreview>\n          </div>\n        ))\n      }\n      {\n        this.props.posts.length == 0 ? <EmptyContent/> : \"\"\n      }\n      </div>\n    )\n  }\n}\n"],"sourceRoot":""}