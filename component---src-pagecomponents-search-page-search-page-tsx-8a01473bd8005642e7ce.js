(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{Gpdm:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("dI71"),a=n("q1tI"),s=n.n(a),i=(n("VLio"),function(t){function e(e){return t.call(this,e)||this}return Object(r.a)(e,t),e.prototype.render=function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"category-bar"},this.props.title))},e}(s.a.Component))},TYzl:function(t,e,n){"use strict";n.r(e),n.d(e,"Search",(function(){return y})),n.d(e,"pageQuery",(function(){return w}));var r=n("dI71"),a=n("q1tI"),s=n.n(a),i=n("Aq8R"),c=n("+rwk"),o=n("xFIP"),u=n("9uds"),p=n("o0o1"),l=n.n(p),h=(n("ls82"),n("HaE+")),d=n("OKhy"),m=n("1wtQ"),f=n("cCPr"),g=n("Gpdm"),b=n("K9RH"),v=n("eG77"),E=function(t){function e(e){var n;return(n=t.call(this,e)||this).searchChangedHandler=function(){var t=Object(h.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.updateSearch(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.state={posts:[],cnt:0,finished:!1,query:""},n}Object(r.a)(e,t);var n=e.prototype;return n.updateSearch=function(){var t=Object(h.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.setState({query:e,finished:!1}),null==e||""==e.trim()){t.next=7;break}return t.next=5,Object(d.n)(m.a.elasticSearchUri+"/docs/_search?pretty=true",{_source:["slug","abstract","title","subtitle","updatedate","date","author","image","categories","commentCnt"],query:{multi_match:{query:e,fields:["tags","title","subtitle","abstract","author","text"]}},size:m.a.elasticSearchResultLimit},{headers:{"Content-Type":"application/json",Authorization:"Basic "+m.a.elsaticBasicAuth}});case 5:(n=t.sent)&&n.hits&&n.hits.hits&&this.setState({posts:n.hits.hits.map((function(t){var e=t._source;return{frontmatter:{title:e.title,date:e.date,updatedate:e.updatedate,image:e.image,subtitle:e.subtitle,slug:e.slug,author:e.author,categories:e.categories},fields:{abstract:e.abstract,commentCnt:e.commentCnt}}})),cnt:n.hits.hits.length,finished:!0});case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),v.a.trackError("Error fetching search results",t.t0);case 12:return t.prev=12,this.setState({finished:!0}),t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));return function(e){return t.apply(this,arguments)}}(),n.componentDidMount=function(){var t=Object(h.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b.a.registerHandler(this.searchChangedHandler),void 0!==typeof window&&(e=Object(d.g)(),n=decodeURIComponent(e.query),this.updateSearch(n));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.componentWillUnmount=function(){b.a.unregisterHandler(this.searchChangedHandler)},n.render=function(){var t=Object(d.l)(this.props.data.categories.edges.map((function(t){return t.node}))),e=this.props.data.authors.edges.map((function(t){return t.node}));return a.createElement("div",{className:"search-results-container"},this.state.query?a.createElement(a.Fragment,null,1==this.state.finished?a.createElement(a.Fragment,null,a.createElement(g.a,{title:this.state.cnt+" Suchergebnisse f√ºr '"+this.state.query+"'"}),a.createElement(f.a,{posts:this.state.posts,categories:t,authors:e})):a.createElement(g.a,{title:"Lade Ergebnisse..."})):a.createElement(g.a,{title:"Bitte geben Sie einen Suchbegriff ein um Ergebnisse zu sehen."}))},e}(a.Component),y=function(t){function e(e){return t.call(this,e)||this}return Object(r.a)(e,t),e.prototype.render=function(){return s.a.createElement(i.b,{header:{url:"search",description:"Sucherergebnisse",type:"object",title:"Suchergebnisse",tags:["search"],noIndex:!0},sidebar:s.a.createElement(c.a,{isFixed:!0},s.a.createElement(o.a,null),s.a.createElement(u.a,null))},s.a.createElement(E,{data:this.props.data}))},e}(s.a.Component),w=(e.default=function(t){var e=t.pageContext,n=t.data,r=t.location;return s.a.createElement(y,{data:n,location:r,context:e})},"4103831127")},VLio:function(t,e,n){},cCPr:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("dI71"),a=n("q1tI"),s=n.n(a),i=n("OKhy"),c=n("JuBv"),o=(n("j3n2"),n("Kxvw")),u=n("VOVi"),p=function(t){function e(e){return t.call(this,e)||this}return Object(r.a)(e,t),e.prototype.render=function(){var t=this.props.post;return s.a.createElement("div",{className:"post-preview"},s.a.createElement("div",null,s.a.createElement(o.a,{frontmatter:t.frontmatter,commentCnt:t.fields.commentCnt,author:this.props.author,categories:this.props.categories})),s.a.createElement("div",{className:"post-content"},s.a.createElement(c.a,{to:"/"+t.frontmatter.slug},s.a.createElement(u.a,{content:this.props.post.fields.abstract?this.props.post.fields.abstract:this.props.post.excerpt}," "))))},e}(s.a.Component),l=(n("ewL5"),function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.render=function(){return s.a.createElement("div",{className:"empty-content-container"},"Hier gibt es noch keine Inhalte")},e}(s.a.Component)),h=function(t){function e(){return t.apply(this,arguments)||this}return Object(r.a)(e,t),e.prototype.render=function(){var t=this;return s.a.createElement("div",{className:"post-list"},this.props.posts.map((function(e,n){return s.a.createElement("div",{className:"post-list-element",key:n},s.a.createElement(p,{post:e,categories:e.frontmatter.categories.map((function(e){return Object(i.e)(e,t.props.categories)})),author:Object(i.d)(e.frontmatter.author,t.props.authors)}))})),0==this.props.posts.length?s.a.createElement(l,null):"")},e}(s.a.Component)}}]);
//# sourceMappingURL=component---src-pagecomponents-search-page-search-page-tsx-8a01473bd8005642e7ce.js.map