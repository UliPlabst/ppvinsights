{"version":3,"sources":["webpack:///./src/components/ContentFooter/ContentFooter.tsx","webpack:///./src/components/ContentFooter/NextPrevPostFooter.tsx","webpack:///./src/pagecomponents/PostPage/PostPage.tsx","webpack:///./src/components/CategoryBar/CategoryBar.tsx"],"names":["ContentFooter","_React$Component","apply","this","arguments","prototype","render","react_default","a","createElement","Fragment","className","props","children","React","Component","NextPrevPostFooter","style","flexBasis","previousPost","gatsby_browser_entry","to","route","title","verticalAlign","marginRight","index_esm","length","substr","nextPost","PostPage","call","post","data","context","categories","nestCategories","edges","map","e","node","cat","frontmatter","c","getCategory","tagNodes","tags","n","t","find","tag","slug","header","url","description","type","name","image","childImageSharp","fluid","src","updated_time","updatedate","publish_time","date","ContentLayout","sidebar","SideBar","isFixed","SideBarContent","tableOfContents","SideBarHelp","categoryBar","CategoryBar","friendlyname","join","PostHeader","commentCnt","fields","author","isPreview","Content","html","htmlAst","subscriberContent","SubscriberFooter","content","ContentFooter_ContentFooter_ContentFooter","PostFooter","NextPrevPostFooter_NextPrevPostFooter","next","prev","AuthorFooter","avatar","CommentFooter","comments","pageQuery","Page","_ref","pageContext","location","PostPage_PostPage","react__WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"component---src-pagecomponents-post-page-post-page-tsx-a95885214b812105f1dd.js","sourcesContent":["import React from \"react\";\nimport \"./ContentFooter.sass\";\n\nexport class ContentFooter extends React.Component\n{\n  render()\n  {\n    return (\n      <>\n        <div className=\"contentfooter-container\">\n        <hr/>\n        {\n          this.props.children\n        }\n        </div>\n      </>\n    )\n  }\n}","import React from \"react\";\nimport { FaArrowAltCircleRight, FaArrowAltCircleLeft } from \"react-icons/fa\";\nimport \"./ContentFooter.sass\";\nimport { Link } from 'gatsby';\ninterface IProps\n{\n  nextPost: {title: string; route: string;};\n  previousPost: {title: string; route: string;}\n}\n\nexport class NextPrevPostFooter extends React.Component<IProps>\n{\n  render()\n  {\n    return (\n      <>\n        <div className=\"next-prev-container\">\n          <div style={{flexBasis: \"content\"}}>\n          {\n            this.props.previousPost == null ? \"\" : (\n              <Link to={\"/\"+this.props.previousPost.route} title={this.props.previousPost.title}>\n                <span style={{verticalAlign: \"middle\", marginRight: \"10px\"}}>  \n                  <FaArrowAltCircleLeft/>\n                </span>\n                <span>\n                  {\n                    this.props.previousPost.title.length <= 28 ? this.props.previousPost.title : this.props.previousPost.title.substr(0, 25) + \"...\"\n                  }\n                </span>\n              </Link>\n            )\n          }\n          </div>\n          <div style={{flexBasis: \"content\"}}>\n          {\n            this.props.nextPost == null ? \"\" : (\n              <Link to={\"/\"+this.props.nextPost.route} title={this.props.nextPost.title}>\n                <span>\n                  {\n                    this.props.nextPost.title.length <= 28 ? this.props.nextPost.title : this.props.nextPost.title.substr(0, 25) + \"...\"\n                  }\n                </span>\n                <span className=\"next-prev-icon\">\n                  <FaArrowAltCircleRight/>\n                </span>\n              </Link>\n            )\n          }\n          </div>\n        </div>\n      </>\n    )\n  }\n}","import { graphql } from \"gatsby\";\nimport React from \"react\";\nimport { IPost, IQueryArrayResult, ICategory, IAuthor, IComment, ITag, IGatsbyLocation } from '../../interfaces';\nimport { ContentLayoutWithSidebar } from \"../../components/Layout/ContentLayout\";\nimport { SideBar } from \"../../components/SideBar/SideBar\";\nimport { SideBarContent } from \"../../components/SideBar/SideBarContent\";\nimport { SideBarHelp } from \"../../components/SideBar/SideBarHelp\";\nimport { CategoryBar } from \"../../components/CategoryBar/CategoryBar\";\nimport { PostHeader } from \"../../components/Post/PostHeader\";\nimport { ReactHTMLContent } from \"../../components/Content/Content\";\nimport { getCategory, nestCategories } from '../../tool';\nimport { ContentFooter } from \"../../components/ContentFooter/ContentFooter\";\nimport { PostFooter } from \"../../components/ContentFooter/PostFooter\";\nimport { NextPrevPostFooter } from \"../../components/ContentFooter/NextPrevPostFooter\";\nimport { CommentFooter } from \"../../components/ContentFooter/CommentFooter\";\nimport { SubscriberFooter } from '../../components/ContentFooter/SubscriberFooter';\nimport { AuthorFooter } from \"../../components/ContentFooter/AuthorFooter\";\nimport { IHeaderProps } from \"../../components/Layout/Header\";\n\ninterface IQueryResult\n{\n  data: {\n    post: IPost,\n    categories: IQueryArrayResult<ICategory>\n    comments: IQueryArrayResult<IComment>\n    tags: IQueryArrayResult<ITag>\n    avatar: any;\n    image: any;\n  }\n  context: {\n    prev: {title: string; route: string;};\n    next: {title: string; route: string;};\n    author: IAuthor;\n    comments: IComment[];\n  };\n  location: IGatsbyLocation;\n}\n\nexport class PostPage extends React.Component<IQueryResult>\n{\n  constructor(props)\n  {\n    super(props);\n  }\n  render(){\n    let post = this.props.data.post;\n    let context = this.props.context;\n\n    let categories = nestCategories(this.props.data.categories.edges.map(e => e.node));\n    let cat = post.frontmatter.categories.map(c => getCategory(c, categories));\n    let tagNodes = this.props.data.tags.edges.map(n => n.node);\n    let tags = this.props.data.post.frontmatter.tags.map(t => tagNodes.find(tag => tag.slug == t));\n    let header: IHeaderProps = {\n      url: this.props.data.post.frontmatter.slug,\n      description: post.frontmatter.description,\n      type: \"article\",\n      title: post.frontmatter.title,\n      tags: tags.map(t => t.name),\n      image: this.props.data.post.frontmatter.image != null ? this.props.data.image.childImageSharp.fluid.src : null,\n      updated_time: post.frontmatter.updatedate,\n      publish_time: post.frontmatter.date\n    }\n\n    return (\n      <ContentLayoutWithSidebar \n        sidebar={(\n          <SideBar isFixed={true}>\n            <SideBarContent tableOfContents={post.tableOfContents} />\n            <SideBarHelp/>\n          </SideBar>\n        )} \n        categoryBar={(<CategoryBar title={cat.map(c => c.friendlyname).join(\" - \")}/>)}\n        header={header}\n      >\n        <PostHeader frontmatter={post.frontmatter} commentCnt={post.fields.commentCnt} author={context.author} categories={cat} isPreview={false}/>\n        <div className=\"post-content\">\n          {/* <HTMLContent content={post.html}></HTMLContent> */}\n          <ReactHTMLContent html={post.htmlAst}></ReactHTMLContent>\n          {\n            (post.fields.subscriberContent == null || post.fields.subscriberContent.length == 0) ?          \n            \"\"\n            : \n            <SubscriberFooter content={post.fields.subscriberContent}></SubscriberFooter> \n          }\n        </div>\n        <ContentFooter>\n          <PostFooter tags={tags} categories={cat} />\n          <NextPrevPostFooter nextPost={context.next} previousPost={context.prev}></NextPrevPostFooter>\n          <AuthorFooter author={this.props.context.author} avatar={this.props.data.avatar}></AuthorFooter>\n          <CommentFooter slug={post.frontmatter.slug} comments={context.comments}></CommentFooter>\n        </ContentFooter>\n      </ContentLayoutWithSidebar>\n    );\n  }\n}\n\nconst Page = ({data, pageContext, location}) => {\n  return (\n    <PostPage location={location} data={data} context={pageContext}></PostPage>\n  );\n};\nexport default Page;\n\nexport const pageQuery = graphql`\n  query BlogPostByID($id: String!, $avatar: String!, $image: String!) {\n    post: markdownRemark(\n      id: { eq: $id }\n      fileAbsolutePath: {\n        regex: \"/.*\\/data\\/posts\\/.*[.]md/\"\n      }\n    ){\n      ...post\n    }\n    avatar: file(\n    \tabsolutePath: { regex: \"/.*\\/data\\/img\\/*/\"}  \n      name:{ eq: $avatar}\n    ){\n      childImageSharp {\n        fixed(width: 100, height: 100) {\n          ...GatsbyImageSharpFixed\n        }\n      }\n    }\n    image: file(\n    \tabsolutePath: { eq: $image}  \n    ){\n      childImageSharp {\n        fluid(maxWidth: 2000) {\n          ...GatsbyImageSharpFluid\n        }\n      }\n    }\n    ...categories\n    ...tags\n}\n`;\n","import React from \"react\";\nimport { Link } from \"gatsby\";\nimport \"./CategoryBar.sass\"\n\ninterface CategoryBarProps {\n  title: string;\n}\n\nexport class CategoryBar extends React.Component<CategoryBarProps> {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div>\n        {/* <h1>\n          {this.props.title}\n        </h1> */}\n        <div className=\"category-bar\">\n          {this.props.title}\n        </div>\n      </div>\n    );\n  }\n};\n\n"],"sourceRoot":""}