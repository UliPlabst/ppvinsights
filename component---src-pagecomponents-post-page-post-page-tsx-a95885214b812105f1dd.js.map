{"version":3,"sources":["webpack:///./src/components/ContentFooter/ContentFooter.tsx","webpack:///./src/components/ContentFooter/NextPrevPostFooter.tsx","webpack:///./src/pagecomponents/PostPage/PostPage.tsx","webpack:///./src/components/CategoryBar/CategoryBar.tsx"],"names":["ContentFooter","_React$Component","apply","this","arguments","prototype","render","react_default","a","createElement","Fragment","className","props","children","React","Component","NextPrevPostFooter","style","flexBasis","previousPost","gatsby_browser_entry","to","route","title","verticalAlign","marginRight","index_esm","length","substr","nextPost","PostPage","call","post","data","context","categories","nestCategories","edges","map","e","node","cat","frontmatter","c","getCategory","tagNodes","tags","n","t","find","tag","slug","header","url","description","type","name","image","childImageSharp","fluid","src","updated_time","updatedate","publish_time","date","ContentLayout","sidebar","SideBar","isFixed","SideBarContent","tableOfContents","SideBarHelp","categoryBar","CategoryBar","friendlyname","join","PostHeader","commentCnt","fields","author","isPreview","Content","html","htmlAst","subscriberContent","SubscriberFooter","content","ContentFooter_ContentFooter_ContentFooter","PostFooter","NextPrevPostFooter_NextPrevPostFooter","next","prev","AuthorFooter","avatar","CommentFooter","comments","pageQuery","Page","_ref","pageContext","location","PostPage_PostPage","react__WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"component---src-pagecomponents-post-page-post-page-tsx-a95885214b812105f1dd.js","sourcesContent":["import React from \"react\";\r\nimport \"./ContentFooter.sass\";\r\n\r\nexport class ContentFooter extends React.Component\r\n{\r\n  render()\r\n  {\r\n    return (\r\n      <>\r\n        <div className=\"contentfooter-container\">\r\n        <hr/>\r\n        {\r\n          this.props.children\r\n        }\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}","import React from \"react\";\r\nimport { FaArrowAltCircleRight, FaArrowAltCircleLeft } from \"react-icons/fa\";\r\nimport \"./ContentFooter.sass\";\r\nimport { Link } from 'gatsby';\r\ninterface IProps\r\n{\r\n  nextPost: {title: string; route: string;};\r\n  previousPost: {title: string; route: string;}\r\n}\r\n\r\nexport class NextPrevPostFooter extends React.Component<IProps>\r\n{\r\n  render()\r\n  {\r\n    return (\r\n      <>\r\n        <div className=\"next-prev-container\">\r\n          <div style={{flexBasis: \"content\"}}>\r\n          {\r\n            this.props.previousPost == null ? \"\" : (\r\n              <Link to={\"/\"+this.props.previousPost.route} title={this.props.previousPost.title}>\r\n                <span style={{verticalAlign: \"middle\", marginRight: \"10px\"}}>  \r\n                  <FaArrowAltCircleLeft/>\r\n                </span>\r\n                <span>\r\n                  {\r\n                    this.props.previousPost.title.length <= 28 ? this.props.previousPost.title : this.props.previousPost.title.substr(0, 25) + \"...\"\r\n                  }\r\n                </span>\r\n              </Link>\r\n            )\r\n          }\r\n          </div>\r\n          <div style={{flexBasis: \"content\"}}>\r\n          {\r\n            this.props.nextPost == null ? \"\" : (\r\n              <Link to={\"/\"+this.props.nextPost.route} title={this.props.nextPost.title}>\r\n                <span>\r\n                  {\r\n                    this.props.nextPost.title.length <= 28 ? this.props.nextPost.title : this.props.nextPost.title.substr(0, 25) + \"...\"\r\n                  }\r\n                </span>\r\n                <span className=\"next-prev-icon\">\r\n                  <FaArrowAltCircleRight/>\r\n                </span>\r\n              </Link>\r\n            )\r\n          }\r\n          </div>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n}","import { graphql } from \"gatsby\";\r\nimport React from \"react\";\r\nimport { IPost, IQueryArrayResult, ICategory, IAuthor, IComment, ITag, IGatsbyLocation } from '../../interfaces';\r\nimport { ContentLayoutWithSidebar } from \"../../components/Layout/ContentLayout\";\r\nimport { SideBar } from \"../../components/SideBar/SideBar\";\r\nimport { SideBarContent } from \"../../components/SideBar/SideBarContent\";\r\nimport { SideBarHelp } from \"../../components/SideBar/SideBarHelp\";\r\nimport { CategoryBar } from \"../../components/CategoryBar/CategoryBar\";\r\nimport { PostHeader } from \"../../components/Post/PostHeader\";\r\nimport { ReactHTMLContent } from \"../../components/Content/Content\";\r\nimport { getCategory, nestCategories } from '../../tool';\r\nimport { ContentFooter } from \"../../components/ContentFooter/ContentFooter\";\r\nimport { PostFooter } from \"../../components/ContentFooter/PostFooter\";\r\nimport { NextPrevPostFooter } from \"../../components/ContentFooter/NextPrevPostFooter\";\r\nimport { CommentFooter } from \"../../components/ContentFooter/CommentFooter\";\r\nimport { SubscriberFooter } from '../../components/ContentFooter/SubscriberFooter';\r\nimport { AuthorFooter } from \"../../components/ContentFooter/AuthorFooter\";\r\nimport { IHeaderProps } from \"../../components/Layout/Header\";\r\n\r\ninterface IQueryResult\r\n{\r\n  data: {\r\n    post: IPost,\r\n    categories: IQueryArrayResult<ICategory>\r\n    comments: IQueryArrayResult<IComment>\r\n    tags: IQueryArrayResult<ITag>\r\n    avatar: any;\r\n    image: any;\r\n  }\r\n  context: {\r\n    prev: {title: string; route: string;};\r\n    next: {title: string; route: string;};\r\n    author: IAuthor;\r\n    comments: IComment[];\r\n  };\r\n  location: IGatsbyLocation;\r\n}\r\n\r\nexport class PostPage extends React.Component<IQueryResult>\r\n{\r\n  constructor(props)\r\n  {\r\n    super(props);\r\n  }\r\n  render(){\r\n    let post = this.props.data.post;\r\n    let context = this.props.context;\r\n\r\n    let categories = nestCategories(this.props.data.categories.edges.map(e => e.node));\r\n    let cat = post.frontmatter.categories.map(c => getCategory(c, categories));\r\n    let tagNodes = this.props.data.tags.edges.map(n => n.node);\r\n    let tags = this.props.data.post.frontmatter.tags.map(t => tagNodes.find(tag => tag.slug == t));\r\n    let header: IHeaderProps = {\r\n      url: this.props.data.post.frontmatter.slug,\r\n      description: post.frontmatter.description,\r\n      type: \"article\",\r\n      title: post.frontmatter.title,\r\n      tags: tags.map(t => t.name),\r\n      image: this.props.data.post.frontmatter.image != null ? this.props.data.image.childImageSharp.fluid.src : null,\r\n      updated_time: post.frontmatter.updatedate,\r\n      publish_time: post.frontmatter.date\r\n    }\r\n\r\n    return (\r\n      <ContentLayoutWithSidebar \r\n        sidebar={(\r\n          <SideBar isFixed={true}>\r\n            <SideBarContent tableOfContents={post.tableOfContents} />\r\n            <SideBarHelp/>\r\n          </SideBar>\r\n        )} \r\n        categoryBar={(<CategoryBar title={cat.map(c => c.friendlyname).join(\" - \")}/>)}\r\n        header={header}\r\n      >\r\n        <PostHeader frontmatter={post.frontmatter} commentCnt={post.fields.commentCnt} author={context.author} categories={cat} isPreview={false}/>\r\n        <div className=\"post-content\">\r\n          {/* <HTMLContent content={post.html}></HTMLContent> */}\r\n          <ReactHTMLContent html={post.htmlAst}></ReactHTMLContent>\r\n          {\r\n            (post.fields.subscriberContent == null || post.fields.subscriberContent.length == 0) ?          \r\n            \"\"\r\n            : \r\n            <SubscriberFooter content={post.fields.subscriberContent}></SubscriberFooter> \r\n          }\r\n        </div>\r\n        <ContentFooter>\r\n          <PostFooter tags={tags} categories={cat} />\r\n          <NextPrevPostFooter nextPost={context.next} previousPost={context.prev}></NextPrevPostFooter>\r\n          <AuthorFooter author={this.props.context.author} avatar={this.props.data.avatar}></AuthorFooter>\r\n          <CommentFooter slug={post.frontmatter.slug} comments={context.comments}></CommentFooter>\r\n        </ContentFooter>\r\n      </ContentLayoutWithSidebar>\r\n    );\r\n  }\r\n}\r\n\r\nconst Page = ({data, pageContext, location}) => {\r\n  return (\r\n    <PostPage location={location} data={data} context={pageContext}></PostPage>\r\n  );\r\n};\r\nexport default Page;\r\n\r\nexport const pageQuery = graphql`\r\n  query BlogPostByID($id: String!, $avatar: String!, $image: String!) {\r\n    post: markdownRemark(\r\n      id: { eq: $id }\r\n      fileAbsolutePath: {\r\n        regex: \"/.*\\/data\\/posts\\/.*[.]md/\"\r\n      }\r\n    ){\r\n      ...post\r\n    }\r\n    avatar: file(\r\n    \tabsolutePath: { regex: \"/.*\\/data\\/img\\/*/\"}  \r\n      name:{ eq: $avatar}\r\n    ){\r\n      childImageSharp {\r\n        fixed(width: 100, height: 100) {\r\n          ...GatsbyImageSharpFixed\r\n        }\r\n      }\r\n    }\r\n    image: file(\r\n    \tabsolutePath: { eq: $image}  \r\n    ){\r\n      childImageSharp {\r\n        fluid(maxWidth: 2000) {\r\n          ...GatsbyImageSharpFluid\r\n        }\r\n      }\r\n    }\r\n    ...categories\r\n    ...tags\r\n}\r\n`;\r\n","import React from \"react\";\r\nimport { Link } from \"gatsby\";\r\nimport \"./CategoryBar.sass\"\r\n\r\ninterface CategoryBarProps {\r\n  title: string;\r\n}\r\n\r\nexport class CategoryBar extends React.Component<CategoryBarProps> {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {/* <h1>\r\n          {this.props.title}\r\n        </h1> */}\r\n        <div className=\"category-bar\">\r\n          {this.props.title}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\n"],"sourceRoot":""}